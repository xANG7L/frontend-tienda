<div class="container my-4 pb-3">
    <h1 class="h3 ms-4">Clientes</h1>
    <div class="shadow card mb-4" style="border-top: 5px solid #005C78;">
        <div class="card-header">
            Registrar cliente
        </div>
        <div class="card-body m-2">
            <button [routerLink]="['/clientes/crear']" class="btn btn-outline-dark">
                <i class="fa-solid fa-plus pe-2"></i>
                Nuevo cliente
            </button>
        </div>
    </div>
    <div class="shadow card mb-4" style="border-top: 5px solid #005C78;">
        <div class="card-header">
            Listado de clientes
        </div>
        <div class="card-body m-2">
            <div class="mb-2">
                <h6>Busqueda de clientes</h6>
                <div class="row mb-2">
                    <!-- <div class="col-3">
                        <select (change)="seleccionarParametroEvt($event)" name="parametro" class="form-select" id="select-categorie">
                            <option [ngValue]="undefined" selected>Seleccione el parametro</option>
                            @for (p of parametros; track $index) {
                            <option [ngValue]="p">
                                {{p.param}}
                            </option>
                            }
                        </select>
                    </div> -->
                    <div class="col-12">
                        <input class="form-control" (input)="filtrarClientes($event)" type="text"
                            placeholder="Busqueda de clientes por nombre completo...">
                    </div>
                </div>
            </div>
            <hr>
            @if (clientes.length > 0) {
            <div class="table-responsive shadow">
                <table class="table table-bordered table-hover">
                    <caption class="ps-3">Clientes registrados: {{ clientes.length }}</caption>
                    <thead>
                        <tr>
                            <th>Codigo</th>
                            <th>DUI</th>
                            <th>Nombres</th>
                            <th>Apellidos</th>
                            <th>Telefono</th>
                            <th>Calle</th>
                            <th>Casa</th>
                            <th>Ciudad</th>
                            <th>Acciones</th>
                        </tr>
                    </thead>
                    <tbody class="table-group-divider">
                        @for (cliente of clientes| paginate: { itemsPerPage: 10, currentPage }; track $index) {
                        <tr>
                            <td>{{cliente.codigo}}</td>
                            <td>{{cliente.dui}}</td>
                            <td>{{cliente.nombre}}</td>
                            <td>{{cliente.apellido}}</td>
                            <td>{{cliente.telefono}}</td>
                            <td>{{cliente.calle}}</td>
                            <td>{{cliente.casa}}</td>
                            <td>{{cliente.ciudad}}</td>
                            <td>
                                <div class="btn-group">
                                    <button type="button" (click)="actualizarClienteEvt(cliente.codigo)"
                                        class="btn btn-secondary btn-sm">
                                        <i class="fa-regular fa-pen-to-square"></i>
                                    </button>
                                    <button type="button" (click)="eliminarClienteEvt(cliente.codigo)"
                                        class="btn btn-danger btn-sm">
                                        <i class="fa-solid fa-trash"></i>
                                    </button>
                                </div>
                            </td>
                        </tr>
                        }
                    </tbody>
                </table>
            </div>
            <div class="text-center mt-2">
                <pagination-controls (pageChange)="currentPage = $event" previousLabel="Anterior"
                    nextLabel="Siguiente"></pagination-controls>
            </div>
            } @else {
            <div class="alert alert-warning">
                No hay clientes registrado!
            </div>
            }
        </div>
        <!-- <div class="card-footer">
            <span class="ms-2 fw-bold">Clientes registrados: {{ clientes.length }}</span>
        </div> -->
    </div>
</div>